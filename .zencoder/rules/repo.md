---
description: Repository Information Overview
alwaysApply: true
---

# Slideshow App Information

## Summary
A React slideshow application that displays full-screen images with synchronized audio and subtitles, no backend server required. Features include full-screen image display, synchronized audio playback, automatic subtitles, keyboard shortcuts, touch gestures, responsive design, LocalStorage caching, auto-advance when audio ends, and progress indicators.

## Structure
- **public/**: Contains static assets (images, audio, subtitles) and generated metadata
  - **data/**: Contains metadata.json generated by the script
  - **images/**: Slide images (1.jpg, 2.jpg, etc.)
  - **audios/**: Audio files (1.mp3, 2.mp3, etc.)
  - **subtitles/**: Subtitle files (1.txt, 2.txt, etc.)
- **scripts/**: Contains utility scripts
  - **generate-metadata.js**: Script to generate metadata.json
  - **kill-port.js**: Utility to kill processes on specific ports
- **src/**: React application source code
  - **components/**: React components (SlideShow, AudioController, etc.)
  - **hooks/**: Custom React hooks (useAudio, useKeyboard, useMetadata)
  - **utils/**: Utility functions (cache, subtitleTiming)

## Language & Runtime
**Language**: JavaScript (React)
**Version**: React 18.2.0
**Build System**: Create React App (react-scripts 5.0.1)
**Package Manager**: npm

## Dependencies
**Main Dependencies**:
- react: ^18.2.0
- react-dom: ^18.2.0
- react-scripts: 5.0.1
- @testing-library/jest-dom: ^5.16.4
- @testing-library/react: ^13.4.0
- @testing-library/user-event: ^13.5.0
- web-vitals: ^2.1.4

**Development Dependencies**:
- get-audio-duration: ^4.0.0

## Build & Installation
```bash
# Install dependencies
npm install

# Generate metadata from images, audio, and subtitles
npm run generate-metadata

# Start development server
npm start

# Build for production
npm run build
```

## Main Files & Resources
**Entry Point**: src/index.js
**Main Component**: src/App.js
**Key Components**:
- SlideShow.js: Main slideshow component
- AudioController.js: Handles audio playback
- NavigationControls.js: UI controls for navigation
- SubtitleDisplay.js: Displays synchronized subtitles

**Custom Hooks**:
- useAudio.js: Manages audio playback and synchronization
- useKeyboard.js: Handles keyboard shortcuts
- useMetadata.js: Loads and caches slideshow metadata

**Utility Scripts**:
- generate-metadata.js: Processes images, audio, and subtitles to create metadata.json
- kill-port.js: Utility to kill processes on specific ports

## Testing
**Framework**: Jest with React Testing Library
**Test Command**:
```bash
npm test
```

## Caching Strategy
The application uses LocalStorage for caching metadata, with automatic version checking on load and fallback to cache when network errors occur.

## Subtitle Timing Logic
The application automatically calculates subtitle display timing based on:
1. Segmentation: Splitting text at punctuation marks
2. Timing: Calculated based on character count and audio duration
3. Pauses: Brief pauses at punctuation marks